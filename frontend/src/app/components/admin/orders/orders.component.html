<div class="orders-management">
  <h2>Order Management</h2>

  <table class="table">
    <thead>
      <tr>
        <th>Order ID</th>
        <th>Customer</th>
        <th>Amount</th>
        <th>Status</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let order of orders">
        <td>{{ order._id }}</td>
        <td>{{ order.user?.name }}</td>
        <td>₹{{ order.totalAmount }}</td>
        <td>{{ order.orderStatus }}</td>
        <td>{{ order.createdAt | date }}</td>
        <td>
          <button class="btn btn-sm btn-info" (click)="viewOrder(order)">View</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="order-details" *ngIf="selectedOrder">
    <h3>Order Details</h3>
    <p><strong>Order ID:</strong> {{ selectedOrder._id }}</p>
    <p><strong>Customer:</strong> {{ selectedOrder.user?.name }}</p>
    <p><strong>Total:</strong> ₹{{ selectedOrder.totalAmount }}</p>
    
    <h4>Update Status</h4>
    <select (change)="updateStatus(selectedOrder._id!, $event.target.value)" class="form-control">
      <option value="pending">Pending</option>
      <option value="confirmed">Confirmed</option>
      <option value="shipped">Shipped</option>
      <option value="delivered">Delivered</option>
      <option value="cancelled">Cancelled</option>
    </select>
    
    <button class="btn btn-secondary" (click)="closeDetails()">Close</button>
  </div>
</div>
